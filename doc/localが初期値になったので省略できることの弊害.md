# doc/localが初期値になったので省略できることの弊害

luaでは変数宣言、関数宣言にlocalと付けなければglobalになってしまい、よく付け忘れられてしまう。
Yueではlocalがデフォルトになったためそれを省略できるようになった。(local/constと書くこともできる)
global/exportのときのみ書いたほうが書き忘れがない
しかし、luaの全てにlocalと書いていたものを省略する感じで使うとファイルローカルと関数ローカルに同名の変数を使うとファイルローカルのほうが上書きされてしまう。(別の変数宣言と初期化にならない)
もちろん関数ローカルにlocalとつければいいのだが……

## その２

ifの条件式の場所でも変数を宣言できる。そこにはlocalとは書けないので統一感がある。
多値代入で一つだけ新しい変数ということもある(例: `old, @field = @field, exp(@field)`)

> [!warning]
> この結果、『変数を宣言して初期値を代入している』のか、『外側の変数に再代入をしている』のか区別がつきにくくなった。(特にコピペ移植で)
> 他の言語がvarとかletとかを書かせる理由がわかった。
> 元がluaのソースコードならばluacheckを掛けてshadowingしていないかチェックしながらyueに変換していく必要がある。
> localと書くこともできるのでlocalを残しておけばいいが、ifの条件文のところで変数を宣言する場合などではlocalと書けない。
> 多値の変数宣言のうち一つがこれに当たるなんてこともある(区別され変換される)。

全ての関数に`using nil`と書く？
