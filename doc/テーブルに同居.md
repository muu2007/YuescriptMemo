# テーブルに同居

## 配列に付随情報を付けると複製時にコピーされない

配列にキー付きの値を同居させることができる
高階関数や内包表記でコピーする(filterを書けて新しい配列を得るなども)と、付随していた情報はコピーされない
metatableも同じ様にコピーされない。

## 意図せず同居テーブルになっていることがある

kilo(エディター)を作っている時(PLEを少しずつ改造していって)
キーバインディングで`<ctrl-a>`が1などを含む連想配列があった。
自分の頭の中では連想配列のつもりなのだが、lume.concat/lume.mergeを使うと、なぜが情報が抜け落ちる。
lumeはisarrayでテーブルに１があるか調べてpairs/ipairsを使い分けていたため、意図とは違う動作をしていた。
lume.concat/mergeはipairs(配列専用)/pairs(連想配列専用)にしておいた。
